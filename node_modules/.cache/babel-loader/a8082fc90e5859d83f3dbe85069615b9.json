{"remainingRequest":"G:\\webstore\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\webstore\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\webstore\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\webstore\\vue-admin\\src\\views\\Users\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\webstore\\vue-admin\\src\\views\\Users\\Users.vue","mtime":1630897696571},{"path":"G:\\webstore\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\webstore\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\webstore\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\webstore\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VycyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8v6aqM6K+B6YKu566x5qCh6aqM6KeE5YiZCiAgICB2YXIgY2hlY2tFbWFpbCA9IGZ1bmN0aW9uIGNoZWNrRW1haWwocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZWdFbWFpbCA9IC9eKFthLXpBLVowLTlfLV0pK0AoW2EtekEtWjAtOV8tXSkrKFwuW2EtekEtWjAtOV8tXSkrLzsKCiAgICAgIGlmIChyZWdFbWFpbC50ZXN0KHZhbHVlKSkgewogICAgICAgIC8v5ZCI5rOV55qE6YKu566xCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgIH0KCiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5ZCI5rOV55qE6YKu566xJykpOwogICAgfTsgLy/pqozor4HmiYvmnLrlj7fmoKHpqozop4TliJkKCgogICAgdmFyIGNoZWNrTW9iaWxlID0gZnVuY3Rpb24gY2hlY2tNb2JpbGUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIC8vIOmqjOivgeaJi+acuuWPt+eahOato+WImeihqOi+vuW8jwogICAgICB2YXIgcmVnTW9iaWxlID0gL14oMHw4NnwxNzk1MSk/KDEzWzAtOV18MTVbMDEyMzU2Nzg5XXwxN1s2NzhdfDE4WzAtOV18MTRbNTddKVswLTldezh9JC87IC8v5aaC5p6ccmVnTW9iaWxl55qEdGVzdOaWueazleS4rXZhbHVl57uP6L+H5qCh6aqM5ZCI5rOV55qE5omL5py65Y+3CgogICAgICBpZiAocmVnTW9iaWxlLnRlc3QodmFsdWUpKSB7CiAgICAgICAgLy/miafooYxjYWxsYmFja+aWueazlQogICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICB9CgogICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWQiOazleeahOaJi+acuuWPtycpKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgLy/ojrflj5bnlKjmiLfliJfooajnmoTlj4LmlbDlr7nosaEKICAgICAgcXVlcnRJbmZvOiB7CiAgICAgICAgcXVlcnk6ICcnLAogICAgICAgIC8v5b2T5YmN55qE6aG15pWwCiAgICAgICAgcGFnZW51bTogMSwKICAgICAgICAvL+W9k+WJjeavj+mhteaYvuekuuWkmuWwkeadoeaVsOaNrgogICAgICAgIHBhZ2VzaXplOiAyCiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIC8v5o6n5Yi25re75Yqg55So5oi35a+56K+d5qGG55qE5pi+56S65ZKM6ZqQ6JePCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAvL+aOp+WItuS/ruaUueeUqOaIt+WvueivneahhueahOaYvuekuuWSjOmakOiXjwogICAgICBlZGl0RGlhbG9nVmlzaWJsbGU6IGZhbHNlLAogICAgICAvL+aOp+WItuWIhumFjeinkuiJsuWvueivneahhueahOaYvuekuuWSjOmakOiXjwogICAgICBzZXRSb2xlRGlhbG9nVmlzaWJsbGU6IGZhbHNlLAogICAgICAvL+afpeivouWIsOeahOeUqOaIt+S/oeaBr+WvueixoQogICAgICBlZGl0Rm9ybToge30sCiAgICAgIC8v5re75Yqg55So5oi355qE6KGo5Y2V5pWw5o2uCiAgICAgIGFkZEZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBtb2JpbGU6ICcnCiAgICAgIH0sCiAgICAgIC8v5re75Yqg55So5oi36KGo5Y2V55qE6KeE5YiZ5a+56LGhCiAgICAgIGFkZEZvcm1SdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogMTAsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN6ZW/5bqm5ZyoIDMg5YiwIDEwIOS4quWtl+espuS5i+mXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDYsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+WvhueggemVv+W6puWcqCA25YiwIDE15Liq5a2X56ym5LmL6Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGVtYWlsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6YKu566xJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tFbWFpbCwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG1vYmlsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrTW9iaWxlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy/pnIDopoHliIbphY3op5LoibLnmoTnlKjmiLfkv6Hmga8KICAgICAgdXNlckluZm86IHt9LAogICAgICAvL+aJgOacieinkuiJsueahOaVsOaNruWIl+ihqAogICAgICByb2xlc0xpc3Q6IFtdLAogICAgICAvL+W3sumAieS4reeahOinkuiJsmlk5YC8CiAgICAgIHNlbGVjdFJvbGVJZDogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlckxpc3Q6IGZ1bmN0aW9uIGdldFVzZXJMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJ3VzZXJzJywgewogICAgICAgIHBhcmFtczogdGhpcy5xdWVydEluZm8KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1ldGEubXNnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnVzZXJsaXN0ID0gcmVzLmRhdGEuZGF0YS51c2VyczsgLy8gY29uc29sZS5sb2codGhpcy51c2VybGlzdCk7CgogICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgLy/nm5HlkKxwYWdlc2l6ZeaUueWPmOeahOS6i+S7tgogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShuZXdTaXplKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKG5ld1NpemUpCiAgICAgIHRoaXMucXVlcnRJbmZvLnBhZ2VzaXplID0gbmV3U2l6ZTsgLy/ph43mlrDojrflj5bmlbDmja4KCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvL+ebkeWQrOmhteeggeWAvOaUueWPmOeahOS6i+S7tgogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShuZXdwYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKG5ld3BhZ2UpOwogICAgICB0aGlzLnF1ZXJ0SW5mby5wYWdlbnVtID0gbmV3cGFnZTsgLy/ph43mlrDojrflj5bmlbDmja4KCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvL+ebkeWQrHN3aXRjaOW8gOWFs+eKtuaAgeeahOS6i+S7tgogICAgdXNlclN0YXRlQ2hhbmdlZDogZnVuY3Rpb24gdXNlclN0YXRlQ2hhbmdlZCh1c2VyaW5mbykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAucHV0KCJ1c2Vycy8iLmNvbmNhdCh1c2VyaW5mby5pZCwgIi9zdGF0ZS8iKS5jb25jYXQodXNlcmluZm8ubWdfc3RhdGUpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgdXNlcmluZm8ubWdfc3RhdGUgIT0gdXNlcmluZm8ubWdfc3RhdGU7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfmm7TmlrDnlKjmiLfnirbmgIHlpLHotKUnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDnlKjmiLfnirbmgIHmiJDlip8nKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ngrnlh7vlr7nor53moYbph4znmoTph43nva7mjInpkq7ph43nva7ooajljZUKICAgIHJlc2V0Zm9ybTogZnVuY3Rpb24gcmVzZXRmb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvL+eCueWHu+aMiemSru+8jOa3u+WKoOeUqOaItwogICAgYWRkVXNlcjogZnVuY3Rpb24gYWRkVXNlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2codmFsaWQpCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOyAvL+WPr+S7peWPkei1t+a3u+WKoOeUqOaIt+eahOivt+axggoKICAgICAgICBfdGhpczMuJGh0dHAucG9zdCgndXNlcnMnLCBfdGhpczMuYWRkRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMuYWRkRm9ybSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5tZXRhLnN0YXR1cyAhPT0gMjAxKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOeUqOaIt+Wksei0pScpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDnlKjmiLfmiJDlip8nKTsgLy/pmpDol4/mt7vliqDnlKjmiLfnmoTlr7nor53moYYKCgogICAgICAgICAgX3RoaXMzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy/ph43mlrDojrflj5bnlKjmiLfliJfooagKCiAgICAgICAgICBfdGhpczMuZ2V0VXNlckxpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy/lsZXnpLrnvJbovpHnlKjmiLfnmoTlr7nor53moYYKICAgIHNob3dFZGl0RGlhbG9nOiBmdW5jdGlvbiBzaG93RWRpdERpYWxvZyhpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgdGhpcy4kaHR0cC5nZXQoJ3VzZXJzLycgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YSk7CgogICAgICAgIGlmIChyZXMuZGF0YS5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM0LiRtZXNzYWdlLmVycm9yKCfmn6Xor6LnlKjmiLfkv6Hmga/lpLHotKUnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzNC5lZGl0Rm9ybSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXM0LmVkaXREaWFsb2dWaXNpYmxsZSA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5L+u5pS555So5oi35L+h5oGv5bm25o+Q5LqkCiAgICBlZGl0VXNlcmluZm86IGZ1bmN0aW9uIGVkaXRVc2VyaW5mbygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvL+iOt+WPluihqOWNlemihOagoemqjOe7k+aenOS4unRydWXmj5DkuqQKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShmdW5jdGlvbiAodmFpbGQpIHsKICAgICAgICBpZiAoIXZhaWxkKSByZXR1cm47IC8v5Y+R6LW35L+u5pS555So5oi35L+h5oGv55qE5pWw5o2u6K+35rGCCgogICAgICAgIF90aGlzNS4kaHR0cC5wdXQoInVzZXJzLyIgKyBfdGhpczUuZWRpdEZvcm0uaWQsIHsKICAgICAgICAgIGVtYWlsOiBfdGhpczUuZWRpdEZvcm0uZW1haWwsCiAgICAgICAgICBtb2JpbGU6IF90aGlzNS5lZGl0Rm9ybS5tb2JpbGUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoJ+abtOaWsOeUqOaIt+S/oeaBr+Wksei0pScpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDnlKjmiLfkv6Hmga/miJDlip8nKTsgLy/pmpDol4/mt7vliqDnlKjmiLfnmoTlr7nor53moYYKCgogICAgICAgICAgX3RoaXM1LmVkaXREaWFsb2dWaXNpYmxsZSA9IGZhbHNlOyAvL+mHjeaWsOiOt+WPlueUqOaIt+WIl+ihqAoKICAgICAgICAgIF90aGlzNS5nZXRVc2VyTGlzdCgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+agueaNrmlk5Yig6Zmk5a+55bqU55qE55So5oi35L+h5oGvCiAgICByZW1vdmVCeUlkOiBmdW5jdGlvbiByZW1vdmVCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy/lvLnmoYbor6Lpl67mmK/lkKbliKDpmaQKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi4kaHR0cC5kZWxldGUoInVzZXJzLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczYuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOeUqOaIt+Wksei0pScpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNi4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTnlKjmiLfmiJDlip8nKTsgLy/liKDpmaTmiJDlip/lkI7liLfmlrDmlbDmja7liJfooagKCgogICAgICAgICAgX3RoaXM2LmdldFVzZXJMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy/lsZXnpLrliIbphY3op5LoibLnmoTlr7nor53moYYKICAgIHNldFJvbGU6IGZ1bmN0aW9uIHNldFJvbGUodXNlckluZm8pIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87IC8v5Zyo5bGV56S65a+56K+d5qGG5YmN6I635Y+W5omA5pyJ55qE6KeS6Imy5YiX6KGoCgogICAgICB0aGlzLiRodHRwLmdldCgncm9sZXMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNy4kbWVzc2FnZS5lcnJvcign6I635Y+W6KeS6Imy5YiX6KGo5aSx6LSlJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczcucm9sZXNMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2V0Um9sZURpYWxvZ1Zpc2libGxlID0gdHJ1ZTsKICAgIH0sCiAgICAvL+eCueWHu+aMiemSruWIhumFjeinkuiJsgogICAgc2F2ZVJvbGVJbmZvOiBmdW5jdGlvbiBzYXZlUm9sZUluZm8oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnNlbGVjdFJvbGVJZCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nopoHliIbphY3nmoTop5LoibInKTsKICAgICAgfQoKICAgICAgdGhpcy4kaHR0cC5wdXQoInVzZXJzLyIuY29uY2F0KHRoaXMudXNlckluZm8uaWQsICIvcm9sZSIpLCB7CiAgICAgICAgcmlkOiB0aGlzLnNlbGVjdFJvbGVJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmRhdGEubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kbWVzc2FnZS5lcnJvcign5pu05paw6KeS6Imy5aSx6LSlJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczguJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw6KeS6Imy5oiQ5YqfJyk7CgogICAgICAgIF90aGlzOC5nZXRVc2VyTGlzdCgpOwoKICAgICAgICBfdGhpczguc2V0Um9sZURpYWxvZ1Zpc2libGxlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8v55uR5ZCs5YiG6YWN6KeS6Imy5a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBzZXRSb2xlRGlhbG9nQ2xvc2VkOiBmdW5jdGlvbiBzZXRSb2xlRGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLnNlbGVjdFJvbGVJZCA9ICcnOwogICAgICB0aGlzLnVzZXJJbmZvID0ge307CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA;AACA,QAAA,UAAA,GAAA,SAAA,UAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,QAAA,GAAA,sDAAA;;AACA,UAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA;AACA,eAAA,QAAA,EAAA;AACA;;AACA,MAAA,QAAA,CAAA,IAAA,KAAA,CAAA,UAAA,CAAA,CAAA;AACA,KAPA,CAFA,CAUA;;;AACA,QAAA,WAAA,GAAA,SAAA,WAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA;AACA,UAAA,SAAA,GAAA,uEAAA,CAFA,CAGA;;AACA,UAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA;AACA,eAAA,QAAA,EAAA;AACA;;AAEA,MAAA,QAAA,CAAA,IAAA,KAAA,CAAA,WAAA,CAAA,CAAA;AAEA,KAXA;;AAaA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA;AACA,QAAA,OAAA,EAAA,CAHA;AAIA;AACA,QAAA,QAAA,EAAA;AALA,OAFA;AASA,MAAA,QAAA,EAAA,EATA;AAUA,MAAA,KAAA,EAAA,CAVA;AAWA;AACA,MAAA,gBAAA,EAAA,KAZA;AAaA;AACA,MAAA,kBAAA,EAAA,KAdA;AAeA;AACA,MAAA,qBAAA,EAAA,KAhBA;AAiBA;AACA,MAAA,QAAA,EAAA,EAlBA;AAmBA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA;AAJA,OApBA;AA0BA;AACA,MAAA,YAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,qBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,kBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CALA;AASA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,SAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CATA;AAaA,QAAA,MAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,SAAA,EAAA,WAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AAbA,OA3BA;AA6CA;AACA,MAAA,QAAA,EAAA,EA9CA;AA+CA;AACA,MAAA,SAAA,EAAA,EAhDA;AAiDA;AACA,MAAA,YAAA,EAAA;AAlDA,KAAA;AAoDA,GA9EA;AA+EA,EAAA,OA/EA,qBA+EA;AACA,SAAA,WAAA;AACA,GAjFA;AAkFA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAAA;AAAA,QAAA,MAAA,EAAA,KAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,iBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAJA,CAKA;;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AAEA,OATA;AAUA,KAZA;AAaA;AACA,IAAA,gBAdA,4BAcA,OAdA,EAcA;AACA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,OAAA,CAFA,CAGA;;AACA,WAAA,WAAA;AACA,KAnBA;AAoBA;AACA,IAAA,mBArBA,+BAqBA,OArBA,EAqBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,OAAA,CAFA,CAGA;;AACA,WAAA,WAAA;AACA,KA1BA;AA2BA;AACA,IAAA,gBA5BA,4BA4BA,QA5BA,EA4BA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,iBAAA,QAAA,CAAA,EAAA,oBAAA,QAAA,CAAA,QAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA;AACA,iBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA;AACA,OAPA;AAQA,KArCA;AAsCA;AACA,IAAA,SAvCA,uBAuCA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,WAAA;AACA,KAzCA;AA0CA;AACA,IAAA,OA3CA,qBA2CA;AAAA;;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA;AACA,YAAA,CAAA,KAAA,EAAA,OAFA,CAGA;;AAEA,QAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,MAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,OAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA,EANA,CAOA;;;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,KAAA,CARA,CASA;;AACA,UAAA,MAAA,CAAA,WAAA;AACA,SAZA;AAaA,OAlBA;AAmBA,KA/DA;AAgEA;AACA,IAAA,cAjEA,0BAiEA,EAjEA,EAiEA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,WAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,iBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA;;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,kBAAA,GAAA,IAAA;AACA,OARA;AASA,KA5EA;AA6EA;AACA,IAAA,YA9EA,0BA8EA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA,OADA,CAEA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,WAAA,MAAA,CAAA,QAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,EAAA,MAAA,CAAA,QAAA,CAAA,KADA;AAEA,UAAA,MAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,EAJA,CAKA;;;AACA,UAAA,MAAA,CAAA,kBAAA,GAAA,KAAA,CANA,CAOA;;AACA,UAAA,MAAA,CAAA,WAAA;AACA,SAbA;AAcA,OAjBA;AAkBA,KAlGA;AAmGA;AACA,IAAA,UApGA,sBAoGA,EApGA,EAoGA;AAAA;;AACA;AACA,WAAA,QAAA,CAAA,oBAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA,EALA,CAMA;;;AACA,UAAA,MAAA,CAAA,WAAA;AACA,SATA;AAUA,OAfA,EAeA,KAfA,CAeA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA,OApBA;AAqBA,KA3HA;AA4HA;AACA,IAAA,OA7HA,mBA6HA,QA7HA,EA6HA;AAAA;;AACA,WAAA,QAAA,GAAA,QAAA,CADA,CAEA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,iBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA;;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,OANA;AAOA,WAAA,qBAAA,GAAA,IAAA;AACA,KAxIA;AAyIA;AACA,IAAA,YA1IA,0BA0IA;AAAA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA;AACA,eAAA,KAAA,QAAA,CAAA,KAAA,CAAA,WAAA,CAAA;AACA;;AACA,WAAA,KAAA,CAAA,GAAA,iBAAA,KAAA,QAAA,CAAA,EAAA,YAAA;AACA,QAAA,GAAA,EAAA,KAAA;AADA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,iBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,WAAA;;AACA,QAAA,MAAA,CAAA,qBAAA,GAAA,KAAA;AACA,OAXA;AAYA,KA1JA;AA2JA;AACA,IAAA,mBA5JA,iCA4JA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA;AA/JA;AAlFA,CAAA","sourcesContent":["<template>\r\n<div>\r\n<!--  面包屑导航区域-->\r\n  <el-breadcrumb separator=\"/\">\r\n    <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n    <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n    <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n  </el-breadcrumb>\r\n<!--  卡片视图区-->\r\n  <el-card >\r\n<!--    添加与搜索区域-->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"10\">\r\n        <!--   搜索与添加区域-->\r\n        <el-input placeholder=\"请输入内容\"  v-model=\"quertInfo.query\" clearable @clear=\"getUserList\">\r\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\r\n        </el-input>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button type=\"primary\" @click=\"addDialogVisible=true\">添加用户</el-button>\r\n      </el-col>\r\n    </el-row>\r\n\r\n<!--    用户列表区域-->\r\n      <el-table :data=\"userlist\"\r\n              stripe\r\n              style=\"width: 100%\" border>\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"60px\"></el-table-column>\r\n        <el-table-column prop=\"username\" label=\"姓名\" ></el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" ></el-table-column>\r\n        <el-table-column prop=\"mobile\" label=\"电话\" ></el-table-column>\r\n        <el-table-column prop=\"role_name\" label=\"角色\" ></el-table-column>\r\n        <el-table-column prop=\"mg_state\" label=\"状态\" >\r\n          <template v-slot:default=\"{row}\">\r\n<!--            {{ row.mg_state}} ！！！重要的用法-->\r\n            <el-switch v-model=\"row.mg_state\" active-color=\"#13ce66\"\r\n                    inactive-color=\"#ff4949\" @change=\"userStateChanged(row)\">\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"操作\" width=\"180px\">\r\n          <template v-slot:default=\"{row}\">\r\n<!--          修改-->\r\n          <el-button @click=\"showEditDialog(row.id)\" type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n<!--          删除-->\r\n          <el-button @click=\"removeById(row.id)\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n<!--          分配角色 加入了文字提示-->\r\n          <el-tooltip   effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n            <el-button @click=\"setRole(row)\" type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" ></el-button>\r\n          </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n<!--    分页区域-->\r\n    <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"quertInfo.pagenum\"\r\n            :page-sizes=\"[1, 2, 5, 10]\"\r\n            :page-size=\"quertInfo.pagesize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n    </el-pagination>\r\n  </el-card>\r\n\r\n<!--  添加用户的对话框-->\r\n  <el-dialog\r\n          title=\"添加用户\"\r\n          :visible.sync=\"addDialogVisible\"\r\n          width=\"50%\">\r\n<!--    内容主题区域-->\r\n    <el-form :model=\"addForm\" :rules=\"addFormRules\"\r\n       ref=\"addFormRef\" label-width=\"70px\">\r\n      <el-form-item label=\"用户名\" prop=\"username\">\r\n        <el-input v-model=\"addForm.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input v-model=\"addForm.password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"addForm.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\" prop=\"mobile\">\r\n        <el-input v-model=\"addForm.mobile\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n<!--    底部区域-->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n<!--   按钮关闭属性   @click=\"addDialogVisible = false\"-->\r\n    <el-button @click=\"resetform\">重置</el-button>\r\n    <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n  </span>\r\n  </el-dialog>\r\n\r\n<!--  修改用户的对话框-->\r\n  <el-dialog\r\n          title=\"修改用户\"\r\n          :visible.sync=\"editDialogVisiblle\"\r\n          width=\"50%\">\r\n    <!--    内容主题区域-->\r\n    <el-form :model=\"editForm\" :rules=\"addFormRules\"\r\n             ref=\"editFormRef\" label-width=\"70px\">\r\n      <el-form-item label=\"用户名\" disabled>\r\n        <el-input v-model=\"editForm.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"editForm.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\" prop=\"mobile\">\r\n        <el-input v-model=\"editForm.mobile\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!--    底部区域-->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n<!--   按钮关闭属性   @click=\"addDialogVisible = false\"-->\r\n    <el-button @click=\"editDialogVisiblle = false\">取消</el-button>\r\n    <el-button type=\"primary\" @click=\"editUserinfo\">确 定</el-button>\r\n  </span>\r\n  </el-dialog>\r\n<!--  分配角色的对话框-->\r\n  <el-dialog\r\n             title=\"分配角色\"\r\n             :visible.sync=\"setRoleDialogVisiblle\"\r\n             @close=\"setRoleDialogClosed\"\r\n             width=\"50%\">\r\n    <div>\r\n      <p>{{userInfo.username}}</p>\r\n      <p>{{userInfo.role_name}}</p>\r\n      <p>分配新角色:\r\n        <el-select v-model=\"selectRoleId\" placeholder=\"请选择\">\r\n          <el-option\r\n                  v-for=\"item in rolesList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.roleName\"\r\n                  :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n      </p>\r\n    </div>\r\n    <!--    底部区域-->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n<!--   按钮关闭属性   @click=\"addDialogVisible = false\"-->\r\n    <el-button @click=\"setRoleDialogVisiblle = false\">取消</el-button>\r\n    <el-button @click=\"saveRoleInfo\" type=\"primary\" >确 定</el-button>\r\n  </span>\r\n  </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Users\",\r\n    data(){\r\n      //验证邮箱校验规则\r\n      let checkEmail=(rule,value,callback)=>{\r\n        const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/\r\n        if(regEmail.test(value)){\r\n          //合法的邮箱\r\n          return callback()\r\n        }\r\n        callback(new Error('请输入合法的邮箱'))\r\n      }\r\n      //验证手机号校验规则\r\n      let checkMobile=(rule,value,callback)=>{\r\n        // 验证手机号的正则表达式\r\n        const regMobile = /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\r\n        //如果regMobile的test方法中value经过校验合法的手机号\r\n        if (regMobile.test(value)) {\r\n          //执行callback方法\r\n          return callback()\r\n        }\r\n\r\n        callback(new Error('请输入合法的手机号'))\r\n\r\n      }\r\n\r\n      return{\r\n      //获取用户列表的参数对象\r\n        quertInfo:{\r\n          query:'',\r\n          //当前的页数\r\n          pagenum:1,\r\n          //当前每页显示多少条数据\r\n          pagesize:2\r\n        },\r\n        userlist:[],\r\n        total:0,\r\n        //控制添加用户对话框的显示和隐藏\r\n        addDialogVisible:false,\r\n        //控制修改用户对话框的显示和隐藏\r\n        editDialogVisiblle:false,\r\n        //控制分配角色对话框的显示和隐藏\r\n        setRoleDialogVisiblle:false,\r\n        //查询到的用户信息对象\r\n        editForm:{},\r\n        //添加用户的表单数据\r\n        addForm:{\r\n          username:'',\r\n          password:'',\r\n          email:'',\r\n          mobile:''\r\n        },\r\n        //添加用户表单的规则对象\r\n        addFormRules:{\r\n          username:[\r\n            {required: true, message: '请输入用户名', trigger: 'blur'},\r\n            {min: 3, max: 10, message: '用户名长度在 3 到 10 个字符之间', trigger: 'blur'}\r\n          ],\r\n          password:[\r\n            {required: true, message: '请输入密码', trigger: 'blur'},\r\n            {min: 6, max: 15, message: '密码长度在 6到 15个字符之间', trigger: 'blur'}\r\n          ],\r\n          email:[\r\n            {required: true, message: '请输入邮箱', trigger: 'blur'},\r\n            { validator: checkEmail, trigger: 'blur' }\r\n          ],\r\n          mobile:[\r\n            {required: true, message: '请输入手机号', trigger: 'blur'},\r\n            { validator: checkMobile, trigger: 'blur' }\r\n          ]\r\n        },\r\n        //需要分配角色的用户信息\r\n        userInfo:{},\r\n        //所有角色的数据列表\r\n        rolesList:[],\r\n        //已选中的角色id值\r\n        selectRoleId:''\r\n      }\r\n    },\r\n    created() {\r\n      this.getUserList()\r\n    },\r\n    methods:{\r\n      getUserList(){\r\n        this.$http.get('users',{params:this.quertInfo})\r\n          .then(res=> {\r\n            if (res.status!==200){\r\n             return this.$message.error(res.data.meta.msg);\r\n            }\r\n            this.userlist=res.data.data.users\r\n            // console.log(this.userlist);\r\n            this.total=res.data.data.total\r\n\r\n          })\r\n      },\r\n      //监听pagesize改变的事件\r\n      handleSizeChange(newSize){\r\n        // console.log(newSize)\r\n        this.quertInfo.pagesize=newSize\r\n        //重新获取数据\r\n        this.getUserList()\r\n      },\r\n      //监听页码值改变的事件\r\n      handleCurrentChange(newpage){\r\n        console.log(newpage)\r\n        this.quertInfo.pagenum=newpage\r\n        //重新获取数据\r\n        this.getUserList()\r\n      },\r\n      //监听switch开关状态的事件\r\n      userStateChanged(userinfo){\r\n        this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n          .then(res=> {\r\n            if (res.data.meta.status !== 200) {\r\n              userinfo.mg_state!=userinfo.mg_state\r\n              return this.$message.error('更新用户状态失败');\r\n            }\r\n            this.$message.success('更新用户状态成功')\r\n          })\r\n          },\r\n      //点击对话框里的重置按钮重置表单\r\n      resetform(){\r\n        this.$refs.addFormRef.resetFields()\r\n      },\r\n      //点击按钮，添加用户\r\n      addUser(){\r\n        this.$refs.addFormRef.validate((valid)=>{\r\n          // console.log(valid)\r\n          if (!valid) return\r\n          //可以发起添加用户的请求\r\n\r\n          this.$http.post('users',this.addForm)\r\n            .then(res=> {\r\n              console.log(this.addForm)\r\n              console.log(res)\r\n              if (res.data.meta.status !== 201) {\r\n                return this.$message.error('添加用户失败');\r\n              }\r\n                this.$message.success('添加用户成功')\r\n                //隐藏添加用户的对话框\r\n                this.addDialogVisible=false\r\n                //重新获取用户列表\r\n                this.getUserList()\r\n            })\r\n        })\r\n      },\r\n      //展示编辑用户的对话框\r\n      showEditDialog(id){\r\n          console.log( id)\r\n        this.$http.get('users/'+id)\r\n          .then(res=> {\r\n            console.log(res.data.data)\r\n            if (res.data.meta.status !== 200) {\r\n              return this.$message.error('查询用户信息失败');\r\n            }\r\n            this.editForm=res.data.data\r\n            this.editDialogVisiblle=true\r\n          })\r\n      },\r\n      //修改用户信息并提交\r\n      editUserinfo(){\r\n        //获取表单预校验结果为true提交\r\n        this.$refs.editFormRef.validate(vaild=>{\r\n         if (!vaild) return\r\n          //发起修改用户信息的数据请求\r\n          this.$http.put(`users/`+this.editForm.id,{\r\n            email:this.editForm.email,\r\n            mobile:this.editForm.mobile\r\n          })\r\n            .then(res=> {\r\n              if (res.data.meta.status !== 200) {\r\n                return this.$message.error('更新用户信息失败');\r\n              }\r\n              this.$message.success('更新用户信息成功')\r\n              //隐藏添加用户的对话框\r\n              this.editDialogVisiblle=false\r\n              //重新获取用户列表\r\n              this.getUserList()\r\n            })\r\n        })\r\n      },\r\n      //根据id删除对应的用户信息\r\n      removeById(id){\r\n        //弹框询问是否删除\r\n          this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            this.$http.delete(`users/`+id)\r\n              .then(res=> {\r\n                console.log(res)\r\n                if (res.data.meta.status !== 200) {\r\n                  return this.$message.error('删除用户失败');\r\n                }\r\n                this.$message.success('删除用户成功')\r\n                //删除成功后刷新数据列表\r\n                this.getUserList();\r\n              })\r\n          }).catch(() => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '已取消删除'\r\n            });\r\n          });\r\n      },\r\n      //展示分配角色的对话框\r\n      setRole(userInfo){\r\n        this.userInfo=userInfo\r\n        //在展示对话框前获取所有的角色列表\r\n        this.$http.get('roles')\r\n          .then(res=> {\r\n            if (res.data.meta.status !== 200) {\r\n              return this.$message.error('获取角色列表失败');\r\n            }\r\n            this.rolesList=res.data.data\r\n          })\r\n        this.setRoleDialogVisiblle=true\r\n      },\r\n      //点击按钮分配角色\r\n      saveRoleInfo(){\r\n        if(!this.selectRoleId){\r\n         return this.$message.error('请选择要分配的角色')\r\n        }\r\n        this.$http.put(`users/${this.userInfo.id}/role`,{\r\n          rid:this.selectRoleId\r\n        })\r\n          .then(res=> {\r\n            console.log(res)\r\n            if (res.data.meta.status !== 200) {\r\n              return this.$message.error('更新角色失败')\r\n            }\r\n            this.$message.success('更新角色成功')\r\n            this.getUserList()\r\n            this.setRoleDialogVisiblle=false\r\n          })\r\n      },\r\n      //监听分配角色对话框的关闭事件\r\n      setRoleDialogClosed(){\r\n        this.selectRoleId=''\r\n        this.userInfo={}\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/Users"}]}